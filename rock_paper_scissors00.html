<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ </title>
    <style>
        /* --- CSSéƒ¨åˆ† --- */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background-color: #f4f7f6;
            color: #333;
        }

        .container {
            background-color: #ffffff;
            padding: 30px 40px;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
            text-align: center;
            width: 90%;
            max-width: 500px;
        }

        h1 {
            color: #4a90e2;
            margin-bottom: 20px;
        }

        #result-display {
            font-size: 1.2em;
            margin: 20px 0;
            padding: 10px;
            border-radius: 8px;
            min-height: 2em; /* çµæœè¡¨ç¤ºã‚¨ãƒªã‚¢ã®ç¢ºä¿ */
        }

        #player-choice, #cpu-choice {
            font-size: 4em;
            margin: 10px;
            display: inline-block;
        }

        .choices {
            margin-bottom: 30px;
        }

        .choice-button {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 3em;
            padding: 10px 15px;
            margin: 0 10px;
            transition: transform 0.1s ease-in-out, background-color 0.2s;
            border-radius: 10px;
        }

        .choice-button:hover {
            transform: scale(1.1);
            background-color: #e0eafc;
        }

        /* ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ */
        #scoreboard {
            margin-top: 20px;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 10px;
            background-color: #fafafa;
        }
        #scoreboard p {
            margin: 5px 0;
            font-weight: bold;
        }

        .win { background-color: #d4edda; color: #155724; }
        .lose { background-color: #f8d7da; color: #721c24; }
        .draw { background-color: #fff3cd; color: #856404; }
    </style>
</head>
<body>

    <div class="container">
        <h1>âœŠ âœŒï¸ âœ‹ ã˜ã‚ƒã‚“ã‘ã‚“ã‚²ãƒ¼ãƒ  âœ‹ âœŒï¸ âœŠ</h1>

        <div class="choices">
            <span id="player-choice">â“</span>
            <span> vs </span>
            <span id="cpu-choice">â“</span>
        </div>

        <div id="result-display">
            ä¸‹ã®ãƒœã‚¿ãƒ³ã‚’æŠ¼ã—ã¦ã˜ã‚ƒã‚“ã‘ã‚“ã‚’é–‹å§‹ï¼
        </div>

        <div id="buttons">
            <button class="choice-button" onclick="playGame(0)">
                âœŠ
            </button>
            <button class="choice-button" onclick="playGame(1)">
                âœŒï¸
            </button>
            <button class="choice-button" onclick="playGame(2)">
                âœ‹
            </button>
        </div>

        <div id="scoreboard">
            <p>ã‚¹ã‚³ã‚¢: <span id="player-score">0</span> å‹ - <span id="cpu-score">0</span> æ•—</p>
            <p>å¼•ãåˆ†ã‘: <span id="draw-score">0</span></p>
        </div>

    </div>

    <script>
        /* --- JavaScriptéƒ¨åˆ† --- */

        // 0: ã‚°ãƒ¼ (âœŠ), 1: ãƒãƒ§ã‚­ (âœŒï¸), 2: ãƒ‘ãƒ¼ (âœ‹)
        const choices = ['âœŠ', 'âœŒï¸', 'âœ‹'];

        let playerScore = 0;
        let cpuScore = 0;
        let drawScore = 0;

        const resultDisplay = document.getElementById('result-display');
        const playerChoiceDisplay = document.getElementById('player-choice');
        const cpuChoiceDisplay = document.getElementById('cpu-choice');
        const playerScoreEl = document.getElementById('player-score');
        const cpuScoreEl = document.getElementById('cpu-score');
        const drawScoreEl = document.getElementById('draw-score');

        /**
         * ã˜ã‚ƒã‚“ã‘ã‚“ã®ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
         * @param {number} playerSelection ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®é¸æŠ (0, 1, or 2)
         */
        function playGame(playerSelection) {
            // CPUã®é¸æŠ (0, 1, or 2 ã®ãƒ©ãƒ³ãƒ€ãƒ )
            const cpuSelection = Math.floor(Math.random() * 3);

            // é¸æŠã•ã‚ŒãŸçµµæ–‡å­—ã‚’è¡¨ç¤º
            playerChoiceDisplay.textContent = choices[playerSelection];
            cpuChoiceDisplay.textContent = choices[cpuSelection];

            let resultText = '';
            let resultClass = ''; // ã‚¹ã‚¿ã‚¤ãƒ«ã®ãŸã‚ã®ã‚¯ãƒ©ã‚¹å

            // å‹æ•—åˆ¤å®š
            // (A - B + 3) % 3 ã®çµæœ: 0=å¼•ãåˆ†ã‘, 1=CPUã®å‹ã¡, 2=ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹ã¡
            const outcome = (playerSelection - cpuSelection + 3) % 3;

            if (outcome === 0) {
                // å¼•ãåˆ†ã‘
                resultText = 'ãƒ‰ãƒ­ãƒ¼ï¼ ã‚ã„ã“ã§ã™ã€‚';
                resultClass = 'draw';
                drawScore++;
            } else if (outcome === 2) {
                // ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å‹ã¡
                resultText = 'ğŸ‰ å‹ã¡ï¼ ãŠã‚ã§ã¨ã†ã”ã–ã„ã¾ã™ï¼';
                resultClass = 'win';
                playerScore++;
            } else { // outcome === 1
                // CPUã®å‹ã¡ (ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è² ã‘)
                resultText = 'ğŸ˜­ è² ã‘ï¼ CPUã®å‹åˆ©ã§ã™ã€‚';
                resultClass = 'lose';
                cpuScore++;
            }

            // çµæœã®è¡¨ç¤ºã‚’æ›´æ–°
            resultDisplay.textContent = resultText;

            // ã‚¹ã‚¿ã‚¤ãƒ«ã®ãŸã‚ã®ã‚¯ãƒ©ã‚¹ã‚’ä»˜ã‘æ›¿ãˆã‚‹
            resultDisplay.className = ''; // ä¸€æ—¦å…¨ã¦å‰Šé™¤
            resultDisplay.classList.add(resultClass);

            // ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚’æ›´æ–°
            updateScoreboard();
        }

        /**
         * ã‚¹ã‚³ã‚¢è¡¨ç¤ºã‚’æ›´æ–°ã™ã‚‹
         */
        function updateScoreboard() {
            playerScoreEl.textContent = playerScore;
            cpuScoreEl.textContent = cpuScore;
            drawScoreEl.textContent = drawScore;
        }

        // åˆæœŸè¡¨ç¤ºæ™‚ã«ã‚‚ã‚¹ã‚³ã‚¢ãƒœãƒ¼ãƒ‰ã‚’æ›´æ–°ã—ã¦ãŠãï¼ˆå…¨ã¦0ã§ï¼‰
        updateScoreboard();

    </script>
</body>
</html>